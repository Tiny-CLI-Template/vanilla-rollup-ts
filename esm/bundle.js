let n=null,e=null,t="",l="",o=!0,a=null;const c=[];function r(){const r=()=>{n=null,e=null,t="",l="",c.length=0,o=!0,a=null};return{has:n=>Object.prototype.hasOwnProperty.call(e,n),next:function(r){const{name:u,isCache:p=!0,params:i,callbackOfReturnThisPage:s=null}=r;!e||e[u]?n&&e&&(t=u,l=n.getCurrentComponentName(),o&&c.push(l),o=!1,a=s,c.push(t),n.update({component:e[u].component,title:e[u].title,isCache:p,params:i,name:u})):console.warn("miniRouter",`路由映射表中并不存在 name 为${u}的组件，请检查组件 name 是否与路由表中一致`)},back:o=>{0!==c.length?n&&e&&(l=c.pop(),t=c.slice(-1)[0],n.update({component:e[t].component,title:e[t].title,name:t}),a&&(a(o),a=null)):console.warn("miniRouter","路由历史记录为空，不能执行返回操作")},find:n=>{if(e)return e[n]},registerReplacePoint:e=>{n=e},setComponentMap:n=>{r(),e=n},getRouterRecords:()=>c}}export{r as useMiniRouter};
